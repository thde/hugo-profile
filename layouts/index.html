{{ define "head" }}
<meta name="description" content={{ .Site.Params.description }}>
<link rel="stylesheet" href="{{ .Site.Params.staticPath }}/css/index.css" media="all">
<link rel="stylesheet" href="{{ .Site.Params.staticPath }}/css/projects.css" media="all">

<!-- fontawesome -->
<script defer src="{{ .Site.Params.staticPath }}/fontawesome-6/all-6.4.2.js"></script>
{{ end }}

{{ define "title" }}
{{ .Site.Title }}
{{ end }}

{{ define "main" }}
    {{ range $index, $element := (where .Site.Params.sections "enable" true) }}
        {{ if not .type }}
            {{ errorf "Type property needs to be set for section with index %d." $index }}
        {{ else }}
            {{ with $element }}
                {{ $partialPathIndex := printf "sections/%s/index.html" .type }}
                {{ $partialPathStandalone := printf "sections/%s.html" .type }}

                {{ if templates.Exists (printf "partials/%s" $partialPathIndex) }}
                    {{- partial $partialPathIndex . -}}
                {{ else if templates.Exists (printf "partials/%s" $partialPathStandalone) }}
                    {{- partial $partialPathStandalone . -}}
                {{ else }}
                    {{ errorf "Cannot find partial for section type: %s" .type }}
                {{ end }}
            {{ end }}
        {{ end }}
    {{ end }}
{{ end }}
